$(function(){function a(){c();var a=[new k(0,0,0,9,"#18c8a4"),new k(20,0,0,9,"#18c8a4"),new k(40,0,0,9,"#13cea8"),new k(60,0,0,8,"#13cea8"),new k(80,0,0,8,"#12d8af"),new k(40,20,0,8,"#12d8af"),new k(40,40,0,8,"#12e1b7"),new k(40,60,0,8,"#12e1b7"),new k(40,80,0,9,"#0fefc1"),new k(40,100,0,9,"#0fefc1"),new k(40,120,0,9,"#0fefc1"),new k(120,120,0,7,"#b5e6e3"),new k(105,114,0,6,"#b5e6e3"),new k(95,103,0,6,"#a7e3df"),new k(90,90,0,7,"#a7e3df"),new k(97,75,0,6,"#a7e3df"),new k(106,67,0,6,"#98e1dd"),new k(120,60,0,7,"#98e1dd"),new k(134,67,0,6,"#98e1dd"),new k(143,76,0,6,"#84e0da"),new k(150,90,0,7,"#84e0da"),new k(145,104,0,6,"#71dfd8"),new k(136,113,0,6,"#71dfd8"),new k(200,60,0,7,"#b1ebc3"),new k(200,75,0,8,"#b1ebc3"),new k(200,90,0,8,"#a7ecbc"),new k(200,105,0,8,"#a7ecbc"),new k(200,120,0,9,"#a7ecbc"),new k(225,80,0,6,"#83eaa3"),new k(235,70,0,7,"#83eaa3"),new k(245,60,0,8,"#83eaa3"),new k(215,85,0,6,"#66de8b"),new k(225,90,0,6,"#66de8b"),new k(235,100,0,6,"#4fdc7a"),new k(245,110,0,7,"#4fdc7a"),new k(255,122,0,7,"#4fdc7a"),new k(330,120,0,6,"#cbbc79"),new k(310,120,0,6,"#cbbc79"),new k(300,112,0,6,"#cbba6d"),new k(293,100,0,6,"#cbba6d"),new k(290,90,0,6,"#cbba6d"),new k(295,78,0,6,"#c9b55c"),new k(306,65,0,6,"#c9b55c"),new k(320,60,0,5,"#c9b55c"),new k(334,65,0,5,"#c8b24e"),new k(343,77,0,5,"#c8b24e"),new k(350,90,0,5,"#c8b24e"),new k(335,90,0,5,"#c6ad3d"),new k(320,90,0,4,"#c6ad3d"),new k(305,90,0,4,"#c6ad3d"),new k(385,60,0,7,"#eba952"),new k(385,75,0,8,"#eba952"),new k(385,90,0,8,"#eba952"),new k(385,105,0,8,"#eca444"),new k(385,120,0,9,"#eca444"),new k(400,80,0,7,"#eca444"),new k(415,70,0,8,"#e99c36"),new k(430,80,0,8,"#e99c36"),new k(430,100,0,9,"#ed9d33"),new k(430,120,0,9,"#ed9d33")];gLength=a.length;for(var d=0;d<gLength;d++)a[d].curPos.x=m/2-180+a[d].curPos.x,a[d].curPos.y=l/2-65+a[d].curPos.y,a[d].originalPos.x=m/2-180+a[d].originalPos.x,a[d].originalPos.y=l/2-65+a[d].originalPos.y;o=new j,o.points=a,b(),f()}function b(){$(window).bind("resize",c).bind("mousemove",d),p.get(0).ontouchmove=function(a){a.preventDefault(),e(a)},p.get(0).ontouchstart=function(a){a.preventDefault()}}function c(){p.attr({height:400,width:$(window).width()}),m=p.width(),l=p.height(),g()}function d(a){o&&o.mousePos.set(a.pageX,a.pageY)}function e(a){o&&o.mousePos.set(a.targetTouches[0].pageX,a.targetTouches[0].pageY)}function f(){g(),h(),setTimeout(function(){f()},30)}function g(){var a=p.get(0);null!=a.getContext&&(n=a.getContext("2d"),n.clearRect(0,0,m,l),o&&o.draw())}function h(){o&&o.update()}function i(a,b,c){this.x=a,this.y=b,this.z=c,this.addX=function(a){this.x+=a},this.addY=function(a){this.y+=a},this.addZ=function(a){this.z+=a},this.set=function(a,b,c){this.x=a,this.y=b,this.z=c}}function j(){this.mousePos=new i(0,0),this.points=new Array,this.newPoint=function(a,b,c){var d=new k(a,b,c);return this.points.push(d),d},this.update=function(){for(var a=this.points.length,b=0;a>b;b++){var c=this.points[b];if(null!=c){var d=this.mousePos.x-c.curPos.x,e=this.mousePos.y-c.curPos.y,f=d*d+e*e,g=Math.sqrt(f);150>g?(c.targetPos.x=this.mousePos.x<c.curPos.x?c.curPos.x-d:c.curPos.x-d,c.targetPos.y=this.mousePos.y<c.curPos.y?c.curPos.y-e:c.curPos.y-e):(c.targetPos.x=c.originalPos.x,c.targetPos.y=c.originalPos.y),c.update()}}},this.draw=function(){for(var a=this.points.length,b=0;a>b;b++){var c=this.points[b];null!=c&&c.draw()}}}function k(a,b,c,d,e){this.colour=e,this.curPos=new i(a,b,c),this.friction=.8,this.originalPos=new i(a,b,c),this.radius=d,this.size=d,this.springStrength=.1,this.targetPos=new i(a,b,c),this.velocity=new i(0,0,0),this.update=function(){var a=this.targetPos.x-this.curPos.x,b=a*this.springStrength;this.velocity.x+=b,this.velocity.x*=this.friction,this.curPos.x+=this.velocity.x;var c=this.targetPos.y-this.curPos.y,d=c*this.springStrength;this.velocity.y+=d,this.velocity.y*=this.friction,this.curPos.y+=this.velocity.y;var e=this.originalPos.x-this.curPos.x,f=this.originalPos.y-this.curPos.y,g=e*e+f*f,h=Math.sqrt(g);this.targetPos.z=h/100+1;var i=this.targetPos.z-this.curPos.z,j=i*this.springStrength;this.velocity.z+=j,this.velocity.z*=this.friction,this.curPos.z+=this.velocity.z,this.radius=this.size*this.curPos.z,this.radius<1&&(this.radius=1)},this.draw=function(){n.fillStyle=this.colour,n.beginPath(),n.arc(this.curPos.x,this.curPos.y,this.radius,0,2*Math.PI,!0),n.fill()}}var l,m,n,o,p=$("#c");a()});